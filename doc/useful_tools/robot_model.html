

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Robot model &mdash; Project March Melodic documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'Melodic',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ros_control" href="ros_control.html" />
    <link rel="prev" title="Create your workspace" href="../getting_started/create_your_workspace.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/create_your_workspace.html">Create your workspace</a></li>
</ul>
<p class="caption"><span class="caption-text">Useful tools</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Robot model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tf2">tf2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#urdf">urdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="#joint-state-publisher">joint_state_publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robot-state-publisher">robot_state_publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rviz">rviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ros_control.html">ros_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="rqt.html">RQT</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros_bag.html">ROS bag</a></li>
<li class="toctree-l1"><a class="reference internal" href="gazebo.html">Gazebo</a></li>
<li class="toctree-l1"><a class="reference internal" href="smach.html">SMACH</a></li>
<li class="toctree-l1"><a class="reference internal" href="event_stream_processing.html">Event stream Processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Using the March Exoskeleton</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/high_level_overview.html">High level overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/connecting_to_the_exoskeleton.html">Connecting to the exoskeleton</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/how_to_airgait.html">How to airgait</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/how_to_view_live_data.html">How to view live data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/log_files.html">Log files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/using_the_gait_generator.html">Using the gait generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/error_codes.html">Error Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_march_exoskeleton/using_the_pressure_soles.html">Using the pressure soles</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../continuous_integration/continuous_integration.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/style_guide.html">Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/add_a_new_gait.html">Add a new gait</a></li>
</ul>
<p class="caption"><span class="caption-text">March Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_data_collector.html">march_data_collector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_description.html">march_description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_ems_projects.html">march_ems_projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_fake_sensor_data.html">march_fake_sensor_data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_gain_scheduling.html">march_gain_scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_gait_files.html">march_gait_files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_hardware.html">march_hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_hardware_builder.html">march_hardware_builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_hardware_interface.html">march_hardware_interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_imu_manager.html">march_imu_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_input_device.html">march_input_device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_launch.html">march_launch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_rqt_input_device.html">march_rqt_input_device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_safety.html">march_safety</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_shared_classes.html">march_shared_classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_shared_resources.html">march_shared_resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_state_machine.html">march_state_machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_gait_selection.html">march_gait_selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../march_packages/march_simulation.html">march_simulation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Project March</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Robot model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/project-march/tutorials/blob/master/doc/useful_tools/robot_model.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="robot-model">
<span id="robot-model-label"></span><h1>Robot model<a class="headerlink" href="#robot-model" title="Permalink to this headline">¶</a></h1>
<p>This tutorial lists the main components that allow you to visualize a robot model.
As the official documentation of these components is sufficient, we will only provide a brief description of each component.</p>
<div class="section" id="tf2">
<h2>tf2<a class="headerlink" href="#tf2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://wiki.ros.org/tf2">tf2</a> is the second generation of the transform library. It produces so called <cite>tf frames</cite>.
These are the positions and orientations of all the parts in the <cite>urdf</cite>. The tf frames have input from the <cite>robot_state_publisher</cite>.
In case an IMU is used, the <a class="reference internal" href="../march_packages/march_data_collector.html#march-data-collector-label"><span class="std std-ref">march_data_collector</span></a> uses IMU data to send a transform of the <code class="docutils literal"><span class="pre">imu_link</span></code> to tf2.</p>
<p>The resulting <cite>tf frames</cite> are used by <cite>rviz</cite> for creating a visualization. The <cite>tf frames</cite> are also used in the <a class="reference internal" href="../march_packages/march_data_collector.html#march-data-collector-label"><span class="std std-ref">march_data_collector</span></a>
to calculate the center of mass and capture point.</p>
<p>When you select to unfix the exoskeleton in simulation a script in the <a class="reference internal" href="../march_packages/march_simulation.html#march-simulation-label"><span class="std std-ref">march_simulation</span></a> is used to produce
a transform that copies the movements of the exoskeleton with respect to the world. The movements are then also visible in <cite>rviz</cite>.</p>
</div>
<div class="section" id="urdf">
<h2>urdf<a class="headerlink" href="#urdf" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://wiki.ros.org/urdf">urdf</a> is an xml format used to describe robots. It contains of visuals as well as collisions.
<a class="reference external" href="http://wiki.ros.org/urdf/Tutorials/Using%20Xacro%20to%20Clean%20Up%20a%20URDF%20File">xacro</a> is a macro language which allows you to use variables and other neat shortcuts in urdf files.
To gain practical experience, please see the <a class="reference external" href="http://wiki.ros.org/urdf/Tutorials">official tutorials</a>.</p>
</div>
<div class="section" id="joint-state-publisher">
<h2>joint_state_publisher<a class="headerlink" href="#joint-state-publisher" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://wiki.ros.org/joint_state_publisher">joint_state_publisher</a> is a very useful package,
which reads your urdf and publishes a <a class="reference external" href="http://docs.ros.org/api/sensor_msgs/html/msg/JointState.html">JointState message</a> for all your joints.</p>
</div>
<div class="section" id="robot-state-publisher">
<h2>robot_state_publisher<a class="headerlink" href="#robot-state-publisher" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://wiki.ros.org/robot_state_publisher">robot_state_publisher</a> takes your urdf and the joint states, and calculates the respective tf frames.</p>
</div>
<div class="section" id="rviz">
<h2>rviz<a class="headerlink" href="#rviz" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://wiki.ros.org/rviz">rviz</a> is a 3D visualization tool which is capable of displaying information about your robot and its surroundings.
The visualization combines the urdf and the tf frames to show the robot model.
Please check the <a class="reference external" href="http://wiki.ros.org/rviz/UserGuide">official userguide</a> to start using it!</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>An example launchfile has been provided in <a class="reference external" href="https://github.com/project-march/tutorials/tree/master/doc/useful_tools/launch/robot_model.launch">robot_model.launch</a>.</p>
<p>Inspect the file to see how the different nodes are launched, and try it out yourself with the following command!</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">roslaunch</span> <span class="n">march_tutorials</span> <span class="n">robot_model</span><span class="o">.</span><span class="n">launch</span>
</pre></div>
</div>
<p>If no robot shows up, make sure to add a <code class="docutils literal"><span class="pre">RobotModel</span></code> to the displays on the left.</p>
<p>If your robot shows up but appears in white/red, make sure the global option for <code class="docutils literal"><span class="pre">Fixed</span> <span class="pre">Frame</span></code> is set to <code class="docutils literal"><span class="pre">world</span></code> instead of <code class="docutils literal"><span class="pre">map</span></code>.</p>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://answers.ros.org/question/275079/joint-state-publisher-and-robot-state-publisher">Difference between robot_state_publisher and joint_state_publisher</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ros_control.html" class="btn btn-neutral float-right" title="ros_control" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../getting_started/create_your_workspace.html" class="btn btn-neutral float-left" title="Create your workspace" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Project March
      <span class="lastupdated">
        Last updated on Aug 02, 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>